<head>
  <link href="https://vjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet" />
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">


  <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
  <!-- <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script> -->
</head>

<body>
  <video
    id="my-video"
    class="video-js"
    controls
    preload="auto"
    fluid="true"
    width="640"
    height="264"
    data-setup='{}'
  >
  </video>

  <script src="https://vjs.zencdn.net/8.3.0/video.min.js"></script>
    <script>
      
  videojs.Vhs.xhr.beforeRequest = function(options) {
    options.withCredentials = true;
    options.headers = options.headers || {};
    options.headers.Authorization = 'Bearer=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1cm46bWljcm9zb2Z0OmF6dXJlOm1lZGlhc2VydmljZXM6Y29udGVudGtleWlkZW50aWZpZXIiOiI5ZGRhMGJjYy01NmZiLTQxNDMtOWQzMi0zYWI5Y2M2ZWE4MGIiLCJpc3MiOiJodHRwOi8vdGVzdGFjcy5jb20vIiwiYXVkIjoidXJuOnRlc3QiLCJleHAiOjE3MTA4MDczODl9.lJXm5hmkp5ArRIAHqVJGefW2bcTzd91iZphoKDwa6w8';
    console.log('options', options)
    return options;
  };

  var player = videojs('my-video');
  player.ready(function() {
    this.src({
       src: "https://amssamples.streaming.mediaservices.windows.net/830584f8-f0c8-4e41-968b-6538b9380aa5/TearsOfSteelTeaser.ism/manifest(format=mpd-time-csf)",
      type: "application/dash+xml",
    });
    console.log('options2', this.src);
  });
</script>
</body>